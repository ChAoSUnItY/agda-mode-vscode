// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Path = require("path");
var Curry = require("bs-platform/lib/js/curry.js");
var Vscode = require("vscode");
var Vscode$AgdaModeVscode = require("./Vscode.bs.js");

function moveToBottom(param) {
  return Vscode.commands.executeCommand("vscode.setEditorLayout", {
              orientation: 1,
              groups: [
                Curry._1(Vscode$AgdaModeVscode.Commands.Layout.sized, {
                      groups: [Vscode$AgdaModeVscode.Commands.Layout.simple],
                      size: 0.8
                    }),
                Curry._1(Vscode$AgdaModeVscode.Commands.Layout.sized, {
                      groups: [Vscode$AgdaModeVscode.Commands.Layout.simple],
                      size: 0.2
                    })
              ]
            });
}

function createPanel(state) {
  var fileName = Path.basename(state.editor.document.fileName, ".agda");
  var panel = Vscode.window.createWebviewPanel("panel", "Agda [" + (fileName + "]"), {
        preserveFocus: true,
        viewColumn: 3
      });
  panel.webview.html = "<h1>hi</h1>";
  panel.onDidDispose((function (param) {
          state.panel = undefined;
          return /* () */0;
        }));
  state.panel = panel;
  return /* () */0;
}

function activate(state) {
  var match = state.panel;
  if (match !== undefined) {
    match.reveal(undefined, true);
    return /* () */0;
  } else {
    createPanel(state);
    moveToBottom(/* () */0);
    return /* () */0;
  }
}

exports.moveToBottom = moveToBottom;
exports.createPanel = createPanel;
exports.activate = activate;
/* path Not a pure module */
