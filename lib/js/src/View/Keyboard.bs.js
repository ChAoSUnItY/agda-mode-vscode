// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Belt_Array = require("bs-platform/lib/js/belt_Array.js");
var Caml_primitive = require("bs-platform/lib/js/caml_primitive.js");
var CandidateSymbols$AgdaModeVscode = require("./CandidateSymbols.bs.js");

function reducer(totalSize, index, action) {
  switch (action) {
    case /* Up */0 :
        return Caml_primitive.caml_int_max(0, index - 10 | 0);
    case /* Down */1 :
        return Caml_primitive.caml_int_min(totalSize - 1 | 0, index + 10 | 0);
    case /* Right */2 :
        return Caml_primitive.caml_int_min(totalSize - 1 | 0, index + 1 | 0);
    case /* Left */3 :
        return Caml_primitive.caml_int_max(0, index - 1 | 0);
    
  }
}

function Keyboard(Props) {
  var state = Props.state;
  var onInsertChar = Props.onInsertChar;
  if (state !== undefined) {
    return React.createElement("div", {
                className: "agda-mode-keyboard"
              }, React.createElement("div", {
                    className: "agda-mode-keyboard-sequence-and-candidates"
                  }, React.createElement("div", {
                        className: "agda-mode-keyboard-sequence"
                      }, state.sequence), React.createElement(CandidateSymbols$AgdaModeVscode.make, {
                        candidates: state.candidates,
                        index: state.candidateIndex
                      })), React.createElement("div", {
                    className: "agda-mode-keyboard-suggestions"
                  }, Belt_Array.map(state.suggestions, (function (key) {
                          return React.createElement("button", {
                                      key: key,
                                      className: "agda-mode-key",
                                      onClick: (function (param) {
                                          return Curry._1(onInsertChar, key);
                                        })
                                    }, key);
                        }))));
  } else {
    return React.createElement("div", {
                className: "agda-mode-keyboard deactivated"
              });
  }
}

var make = Keyboard;

exports.reducer = reducer;
exports.make = make;
/* react Not a pure module */
