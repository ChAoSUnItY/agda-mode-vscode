// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var $$Promise = require("reason-promise/lib/js/src/js/promise.bs.js");
var Chan$AgdaModeVscode = require("../Util/Chan.bs.js");

function recv(reqChan, resChan, handler) {
  React.useEffect((function () {
          return Chan$AgdaModeVscode.on(reqChan, (function (req) {
                        return $$Promise.get(Curry._1(handler, req), (function (param) {
                                      return Chan$AgdaModeVscode.emit(resChan, param);
                                    }));
                      }));
        }), []);
  
}

function on(chan, handler) {
  React.useEffect((function () {
          return Chan$AgdaModeVscode.on(chan, handler);
        }), []);
  
}

exports.recv = recv;
exports.on = on;
/* react Not a pure module */
