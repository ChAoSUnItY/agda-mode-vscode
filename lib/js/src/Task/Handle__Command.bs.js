// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var $$Promise = require("reason-promise/lib/js/src/js/promise.js");
var Task$AgdaModeVscode = require("./Task.bs.js");
var Caml_chrome_debugger = require("bs-platform/lib/js/caml_chrome_debugger.js");
var Command$AgdaModeVscode = require("../Command.bs.js");
var Handle__InputMethod$AgdaModeVscode = require("./Handle__InputMethod.bs.js");

function Impl(Editor) {
  var Task = Task$AgdaModeVscode.Impl(Editor);
  var InputMethodHandler = Handle__InputMethod$AgdaModeVscode.Impl(Editor);
  var handle = function (command) {
    var header = Command$AgdaModeVscode.toString(command);
    if (typeof command === "number") {
      switch (command) {
        case /* Load */0 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* WithStateP */Caml_chrome_debugger.variant("WithStateP", 8, [(function (state) {
                              return $$Promise.map(Curry._1(Editor.save, state.editor), (function (param) {
                                            return /* [] */0;
                                          }));
                            })]),
                      /* :: */Caml_chrome_debugger.simpleVariant("::", [
                          /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* SaveCursor */3]),
                          /* :: */Caml_chrome_debugger.simpleVariant("::", [
                              /* RemoveAllHighlightings */1,
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Load */0]),
                                  /* [] */0
                                ])
                            ])
                        ])
                    ]);
        case /* Quit */1 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* RemoveAllHighlightings */1,
                      /* :: */Caml_chrome_debugger.simpleVariant("::", [
                          /* Terminate */0,
                          /* [] */0
                        ])
                    ]);
        case /* NextGoal */2 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* Next */1]),
                      /* [] */0
                    ]);
        case /* PreviousGoal */3 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* Previous */2]),
                      /* [] */0
                    ]);
        case /* Give */4 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, param) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Give */Caml_chrome_debugger.variant("Give", 2, [goal])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, "expression to give:", undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* Modify */Caml_chrome_debugger.variant("Modify", 1, [
                                                                  goal,
                                                                  (function (param) {
                                                                      return expr;
                                                                    })
                                                                ])]),
                                                          /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                              /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Give */Caml_chrome_debugger.variant("Give", 2, [goal])]),
                                                              /* [] */0
                                                            ])
                                                        ]);
                                              }));
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* Refine */5 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal */Caml_chrome_debugger.variant("LocalOrGlobal", 6, [
                              (function (goal) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* SaveCursor */3]),
                                            /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Refine */Caml_chrome_debugger.variant("Refine", 3, [goal])]),
                                                /* [] */0
                                              ])
                                          ]);
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* Auto */6 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal */Caml_chrome_debugger.variant("LocalOrGlobal", 6, [
                              (function (goal) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Auto */Caml_chrome_debugger.variant("Auto", 5, [goal])]),
                                            /* [] */0
                                          ]);
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* Case */7 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, param) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* SaveCursor */3]),
                                            /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Case */Caml_chrome_debugger.variant("Case", 6, [goal])]),
                                                /* [] */0
                                              ])
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, "expression to case:", undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* Modify */Caml_chrome_debugger.variant("Modify", 1, [
                                                                  goal,
                                                                  (function (param) {
                                                                      return expr;
                                                                    })
                                                                ])]),
                                                          /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                              /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* SaveCursor */3]),
                                                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                                  /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Case */Caml_chrome_debugger.variant("Case", 6, [goal])]),
                                                                  /* [] */0
                                                                ])
                                                            ])
                                                        ]);
                                              }));
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* WhyInScope */8 :
            var placeholder = "name:";
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* WhyInScope */Caml_chrome_debugger.variant("WhyInScope", 19, [
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, placeholder, undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* WhyInScope */Caml_chrome_debugger.variant("WhyInScope", 19, [
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              Curry._4(Task.query, header, placeholder, undefined, (function (expr) {
                                      return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* WhyInScopeGlobal */Caml_chrome_debugger.variant("WhyInScopeGlobal", 20, [expr])]),
                                                /* [] */0
                                              ]);
                                    }))
                            ])]),
                      /* [] */0
                    ]);
        case /* Escape */9 :
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* SendEventToView */Caml_chrome_debugger.variant("SendEventToView", 2, [/* InterruptQuery */2]),
                      /* [] */0
                    ]);
        
      }
    } else {
      switch (command.tag | 0) {
        case /* SolveConstraints */0 :
            var normalization = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal */Caml_chrome_debugger.variant("LocalOrGlobal", 6, [
                              (function (goal) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* SolveConstraints */Caml_chrome_debugger.variant("SolveConstraints", 0, [
                                                    normalization,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* SolveConstraintsGlobal */Caml_chrome_debugger.variant("SolveConstraintsGlobal", 1, [normalization])]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* ElaborateAndGive */1 :
            var normalization$1 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ElaborateAndGive */Caml_chrome_debugger.variant("ElaborateAndGive", 4, [
                                                    normalization$1,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, "expression to elaborate and give:", undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ElaborateAndGive */Caml_chrome_debugger.variant("ElaborateAndGive", 4, [
                                                                  normalization$1,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* HelperFunctionType */2 :
            var normalization$2 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* HelperFunctionType */Caml_chrome_debugger.variant("HelperFunctionType", 7, [
                                                    normalization$2,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, "expression:", undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* HelperFunctionType */Caml_chrome_debugger.variant("HelperFunctionType", 7, [
                                                                  normalization$2,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* InferType */3 :
            var normalization$3 = command[0];
            var placeholder$1 = "expression to infer:";
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* InferType */Caml_chrome_debugger.variant("InferType", 8, [
                                                    normalization$3,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, placeholder$1, undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* InferType */Caml_chrome_debugger.variant("InferType", 8, [
                                                                  normalization$3,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              Curry._4(Task.query, header, placeholder$1, undefined, (function (expr) {
                                      return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* InferTypeGlobal */Caml_chrome_debugger.variant("InferTypeGlobal", 9, [
                                                        normalization$3,
                                                        expr
                                                      ])]),
                                                /* [] */0
                                              ]);
                                    }))
                            ])]),
                      /* [] */0
                    ]);
        case /* Context */4 :
            var normalization$4 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal */Caml_chrome_debugger.variant("LocalOrGlobal", 6, [
                              (function (goal) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* Context */Caml_chrome_debugger.variant("Context", 10, [
                                                    normalization$4,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* GoalType */5 :
            var normalization$5 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal */Caml_chrome_debugger.variant("LocalOrGlobal", 6, [
                              (function (goal) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* GoalType */Caml_chrome_debugger.variant("GoalType", 11, [
                                                    normalization$5,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* GoalTypeAndContext */6 :
            var normalization$6 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal */Caml_chrome_debugger.variant("LocalOrGlobal", 6, [
                              (function (goal) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* GoalTypeAndContext */Caml_chrome_debugger.variant("GoalTypeAndContext", 12, [
                                                    normalization$6,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* EventFromView */7 :
            var $$event = command[0];
            if (typeof $$event === "number") {
              if ($$event !== 0) {
                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                          /* Terminate */0,
                          /* [] */0
                        ]);
              } else {
                return /* [] */0;
              }
            }
            var $$char = $$event[0];
            if ($$char.tag) {
              return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                        /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* SaveCursor */3]),
                        /* :: */Caml_chrome_debugger.simpleVariant("::", [
                            /* DispatchCommand */Caml_chrome_debugger.variant("DispatchCommand", 0, [/* InputMethod */Caml_chrome_debugger.variant("InputMethod", 12, [/* ChooseSymbol */Caml_chrome_debugger.variant("ChooseSymbol", 2, [$$char[0]])])]),
                            /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* RestoreCursor */4]),
                                /* [] */0
                              ])
                          ])
                      ]);
            } else {
              return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                        /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* SaveCursor */3]),
                        /* :: */Caml_chrome_debugger.simpleVariant("::", [
                            /* DispatchCommand */Caml_chrome_debugger.variant("DispatchCommand", 0, [/* InputMethod */Caml_chrome_debugger.variant("InputMethod", 12, [/* InsertChar */Caml_chrome_debugger.variant("InsertChar", 1, [$$char[0]])])]),
                            /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* RestoreCursor */4]),
                                /* [] */0
                              ])
                          ])
                      ]);
            }
        case /* GoalTypeContextAndInferredType */8 :
            var normalization$7 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* GoalTypeContextAndInferredType */Caml_chrome_debugger.variant("GoalTypeContextAndInferredType", 13, [
                                                    normalization$7,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, "expression to type:", undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* GoalTypeContextAndInferredType */Caml_chrome_debugger.variant("GoalTypeContextAndInferredType", 13, [
                                                                  normalization$7,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* GoalTypeContextAndCheckedType */9 :
            var normalization$8 = command[0];
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* GoalTypeContextAndCheckedType */Caml_chrome_debugger.variant("GoalTypeContextAndCheckedType", 14, [
                                                    normalization$8,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, "expression to type:", undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* GoalTypeContextAndCheckedType */Caml_chrome_debugger.variant("GoalTypeContextAndCheckedType", 14, [
                                                                  normalization$8,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                  /* Error */Caml_chrome_debugger.variant("Error", 5, [/* OutOfGoal */1]),
                                  /* [] */0
                                ])
                            ])]),
                      /* [] */0
                    ]);
        case /* ModuleContents */10 :
            var normalization$9 = command[0];
            var placeholder$2 = "module name:";
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ModuleContents */Caml_chrome_debugger.variant("ModuleContents", 15, [
                                                    normalization$9,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, placeholder$2, undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ModuleContents */Caml_chrome_debugger.variant("ModuleContents", 15, [
                                                                  normalization$9,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              Curry._4(Task.query, header, placeholder$2, undefined, (function (expr) {
                                      return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ModuleContentsGlobal */Caml_chrome_debugger.variant("ModuleContentsGlobal", 16, [
                                                        normalization$9,
                                                        expr
                                                      ])]),
                                                /* [] */0
                                              ]);
                                    }))
                            ])]),
                      /* [] */0
                    ]);
        case /* ComputeNormalForm */11 :
            var computeMode = command[0];
            var placeholder$3 = "expression to normalize:";
            return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                      /* Goal */Caml_chrome_debugger.variant("Goal", 6, [/* LocalOrGlobal2 */Caml_chrome_debugger.variant("LocalOrGlobal2", 7, [
                              (function (goal, expr) {
                                  return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                            /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ComputeNormalForm */Caml_chrome_debugger.variant("ComputeNormalForm", 17, [
                                                    computeMode,
                                                    expr,
                                                    goal
                                                  ])]),
                                            /* [] */0
                                          ]);
                                }),
                              (function (goal) {
                                  return Curry._4(Task.query, header, placeholder$3, undefined, (function (expr) {
                                                return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                          /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ComputeNormalForm */Caml_chrome_debugger.variant("ComputeNormalForm", 17, [
                                                                  computeMode,
                                                                  expr,
                                                                  goal
                                                                ])]),
                                                          /* [] */0
                                                        ]);
                                              }));
                                }),
                              Curry._4(Task.query, header, placeholder$3, undefined, (function (expr) {
                                      return /* :: */Caml_chrome_debugger.simpleVariant("::", [
                                                /* SendRequest */Caml_chrome_debugger.variant("SendRequest", 1, [/* ComputeNormalFormGlobal */Caml_chrome_debugger.variant("ComputeNormalFormGlobal", 18, [
                                                        computeMode,
                                                        expr
                                                      ])]),
                                                /* [] */0
                                              ]);
                                    }))
                            ])]),
                      /* [] */0
                    ]);
        case /* InputMethod */12 :
            return Curry._1(InputMethodHandler.handle, command[0]);
        
      }
    }
  };
  return {
          Task: Task,
          InputMethodHandler: InputMethodHandler,
          handle: handle
        };
}

exports.Impl = Impl;
/* Promise Not a pure module */
