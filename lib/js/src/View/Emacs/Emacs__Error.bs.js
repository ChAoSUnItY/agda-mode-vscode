// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var React = require("react");
var Js_dict = require("bs-platform/lib/js/js_dict.js");
var Belt_Array = require("bs-platform/lib/js/belt_Array.js");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");
var Component$AgdaModeVscode = require("../Component/Component.bs.js");
var Emacs__Parser$AgdaModeVscode = require("./Emacs__Parser.bs.js");

function parse(raw) {
  var lines = raw.split("\n");
  return Belt_Option.mapWithDefault(Js_dict.get(Emacs__Parser$AgdaModeVscode.partiteWarningsOrErrors(Emacs__Parser$AgdaModeVscode.Dict.partite(lines, (function (param) {
                            if (param[1] === 0) {
                              return "errors";
                            }
                            
                          })), "errors"), "errors"), [], (function (metas) {
                return Belt_Array.keepMap(Belt_Array.map(metas, Component$AgdaModeVscode.WarningError.parseError), (function (x) {
                              return x;
                            }));
              }));
}

function Emacs__Error(Props) {
  var payload = Props.payload;
  return React.createElement("ul", undefined, Belt_Array.mapWithIndex(parse(payload), (function (i, value) {
                    return React.createElement(Component$AgdaModeVscode.WarningError.make, {
                                value: value,
                                key: String(i)
                              });
                  })));
}

var make = Emacs__Error;

exports.parse = parse;
exports.make = make;
/* react Not a pure module */
