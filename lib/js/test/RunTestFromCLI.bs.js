// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Path = require("path");
var Process = require("process");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var VscodeTest = require("vscode-test");

var dirname = typeof __dirname === "undefined" ? undefined : __dirname;

var testSuiteAdapterFileName = "TestSuiteAdapter.bs.js";

function run(dirname) {
  var extensionDevelopmentPath = Path.resolve(dirname, "../");
  var extensionTestsPath = Path.resolve(dirname, testSuiteAdapterFileName);
  return VscodeTest.runTests({
              extensionDevelopmentPath: extensionDevelopmentPath,
              extensionTestsPath: extensionTestsPath
            });
}

if (dirname !== undefined) {
  var exit = 0;
  var val;
  try {
    val = run(dirname);
    exit = 1;
  }
  catch (exn){
    console.log("Failed to run tests");
    Process.exit(5);
  }
  if (exit === 1) {
    Process.exit(3);
  }
  
} else {
  console.log("Failed to read __dirname");
  Process.exit(1);
}

var dirname$1 = dirname === undefined ? undefined : Caml_option.some(dirname);

exports.dirname = dirname$1;
exports.testSuiteAdapterFileName = testSuiteAdapterFileName;
exports.run = run;
/* dirname Not a pure module */
