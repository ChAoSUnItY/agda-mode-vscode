// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var $$Promise = require("reason-promise/lib/js/src/js/promise.js");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");
var Process$AgdaMode = require("agda-mode/lib/js/src/Process.bs.js");
var View$AgdaModeVscode = require("./View.bs.js");

function load(state) {
  console.log("load!");
  View$AgdaModeVscode.activate(state);
  return $$Promise.get(Process$AgdaMode.PathSearch.run("agda"), (function (param) {
                if (param.tag) {
                  return Belt_Option.forEach(state.panel, (function (__x) {
                                return View$AgdaModeVscode.postMessage(__x, /* CannotFindAgda */1);
                              }));
                } else {
                  return Belt_Option.forEach(state.panel, (function (__x) {
                                return View$AgdaModeVscode.postMessage(__x, /* Success */0);
                              }));
                }
              }));
}

exports.load = load;
/* Promise Not a pure module */
