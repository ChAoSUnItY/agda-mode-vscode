// Generated by ReScript, PLEASE EDIT WITH CARE
'use strict';

var $$Promise = require("reason-promise/lib/js/src/js/promise.bs.js");
var Belt_Option = require("rescript/lib/js/belt_Option.js");
var Caml_option = require("rescript/lib/js/caml_option.js");
var View__Type$AgdaModeVscode = require("./View/View__Type.bs.js");
var ViewController$AgdaModeVscode = require("./ViewController.bs.js");

var handle = {
  contents: undefined
};

function make(extensionPath) {
  var panel = handle.contents;
  if (panel !== undefined) {
    return Caml_option.valFromOption(panel);
  }
  var panel$1 = ViewController$AgdaModeVscode.PanelController.make(extensionPath);
  handle.contents = Caml_option.some(panel$1);
  $$Promise.get(ViewController$AgdaModeVscode.PanelController.onceDestroyed(panel$1), (function (param) {
          handle.contents = undefined;
          
        }));
  return panel$1;
}

function destroy(param) {
  Belt_Option.forEach(handle.contents, ViewController$AgdaModeVscode.PanelController.destroy);
  handle.contents = undefined;
  
}

var Panel = {
  make: make,
  destroy: destroy
};

var Header = View__Type$AgdaModeVscode.Header;

var Prompt = View__Type$AgdaModeVscode.Prompt;

var Body = View__Type$AgdaModeVscode.Body;

var EventToView = View__Type$AgdaModeVscode.EventToView;

var $$Request = View__Type$AgdaModeVscode.$$Request;

var RequestOrEventToView = View__Type$AgdaModeVscode.RequestOrEventToView;

var $$Response = View__Type$AgdaModeVscode.$$Response;

var EventFromView = View__Type$AgdaModeVscode.EventFromView;

var ResponseOrEventFromView = View__Type$AgdaModeVscode.ResponseOrEventFromView;

exports.Header = Header;
exports.Prompt = Prompt;
exports.Body = Body;
exports.EventToView = EventToView;
exports.$$Request = $$Request;
exports.RequestOrEventToView = RequestOrEventToView;
exports.$$Response = $$Response;
exports.EventFromView = EventFromView;
exports.ResponseOrEventFromView = ResponseOrEventFromView;
exports.Panel = Panel;
/* Promise Not a pure module */
