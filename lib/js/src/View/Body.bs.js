// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Belt_Option = require("bs-platform/lib/js/belt_Option.js");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var Webapi__Dom__Element = require("bs-webapi/lib/js/src/Webapi/Webapi__Dom/Webapi__Dom__Element.js");

function Body(Props) {
  var body = Props.body;
  var onSubmit = Props.onSubmit;
  if (typeof body === "number") {
    return React.createElement(React.Fragment, undefined);
  }
  if (!body.tag) {
    return React.createElement("div", {
                className: "agda-mode-body"
              }, body[0]);
  }
  var value = body[1];
  var placeholder = Belt_Option.getWithDefault(body[0], "");
  var match = React.useState((function () {
          return Belt_Option.getWithDefault(value, "");
        }));
  var setValue = match[1];
  var value$1 = match[0];
  var onChange = function ($$event) {
    var value = $$event.target.value;
    return Curry._1(setValue, (function (param) {
                  return value;
                }));
  };
  var onSubmit$1 = function (param) {
    return Curry._1(onSubmit, value$1);
  };
  return React.createElement("div", {
              className: "agda-mode-body"
            }, React.createElement("form", {
                  onSubmit: onSubmit$1
                }, React.createElement("input", {
                      ref: (function (ref) {
                          setTimeout((function (param) {
                                  Belt_Option.forEach(Belt_Option.flatMap((ref == null) ? undefined : Caml_option.some(ref), Webapi__Dom__Element.asHtmlElement), (function (prim) {
                                          prim.focus();
                                          
                                        }));
                                  
                                }), 100);
                          
                        }),
                      placeholder: placeholder,
                      type: "text",
                      value: value$1,
                      onChange: onChange
                    })));
}

var make = Body;

exports.make = make;
/* react Not a pure module */
